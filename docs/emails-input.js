!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["emails-input"]=e():t["emails-input"]=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=15)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,l=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,l,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var l=t[a];null!=l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="(".concat(l[2],") and (").concat(n,")")),e.push(l))}},e}},function(t,e,n){"use strict";var r,i={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function l(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],e))}else{for(var l=[];a<r.parts.length;a++)l.push(b(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:l}}}}function s(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,p=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&t.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,m=0;function b(t,e){var n,r,i;if(e.singleton){var o=m++;n=h||(h=s(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=s(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=l(t,e);return c(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o],s=i[a.id];s&&(s.refs--,r.push(s))}t&&c(l(t,e),e);for(var u=0;u<r.length;u++){var p=r[u];if(0===p.refs){for(var f=0;f<p.parts.length;f++)p.parts[f]();delete i[p.id]}}}}},function(t,e,n){var r=n(7),i=n(8),o=n(9),a=n(10);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(1);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(1);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(3)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,'.emails-input{width:100%;height:96px;display:-webkit-box;display:flex;align-content:flex-start;flex-wrap:wrap;padding:8px 7px;border:1px solid #c3c2cf;border-radius:4px;font-family:Open Sans,sans-serif;font-size:14px;line-height:24px;background:#fff;overflow-y:auto}.emails-input__block{height:24px;margin:0 8px 4px 0}.emails-input__block--valid{padding:0 7px 0 10px;border-radius:100px;background:rgba(102,153,255,.2)}.emails-input__block--invalid{border-bottom:1px dashed #d92929}.emails-input__remove-btn{width:8px;height:8px;border:none;outline:none;vertical-align:middle;background:url(\'data:image/svg+xml;charset=utf-8,<svg width="8" height="8" fill="none" xmlns="http://www.w3.org/2000/svg">\\a<path fill-rule="evenodd" clip-rule="evenodd" d="M8 .8L7.2 0 4 3.2.8 0 0 .8 3.2 4 0 7.2l.8.8L4 4.8 7.2 8l.8-.8L4.8 4 8 .8z" fill="%23050038"/>\\a</svg>\') 50% no-repeat;cursor:pointer}.emails-input__input{display:inline-block;min-width:auto;max-width:100%;height:24px;-webkit-box-flex:1;flex-grow:1;padding:0;border:none;outline:none;font-size:14px}.emails-input__input::-webkit-input-placeholder{font-family:Open Sans,sans-serif;font-size:14px;color:#c3c2cf}.emails-input__input::-ms-input-placeholder,.emails-input__input::-webkit-input-placeholder,.emails-input__input::placeholder{font-family:Open Sans,sans-serif;font-size:14px;color:#c3c2cf}',""])},function(t,e,n){var r=n(14);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(3)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(2)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap);"]),e.push([t.i,"html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body,html{margin:0;padding:0}body{font-size:14px;font-family:Open Sans,sans-serif;color:#050038}.emails-input-form{width:540px;margin:30px auto 0;border-radius:8px;background:#fff;box-shadow:0 8px 20px rgba(0,0,0,.2)}.emails-input-form__header{padding:32px 50px 24px;background:#f8f8f7}.emails-input-form__title{margin:0 0 24px;font-size:20px;font-weight:400;line-height:27px}.emails-input-form__footer{padding:24px 50px 32px}.btn{margin:0 0 4px 8px;padding:8px 16px;border:0;border-radius:6px;outline:none;font-size:14px;color:#fff;background:#4262ff;cursor:pointer}.btn:focus,.btn:hover{background:#3b58e5}",""])},function(t,e,n){"use strict";n.r(e);var r=n(4),i=n.n(r),o=n(0),a=n.n(o),l=n(5),c=n.n(l),s=n(6),u=n.n(s),p=(n(11),function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.placeholder,o=void 0===i?"":i,l=r.className,s=void 0===l?"":l,u=r.onChange;c()(this,t),a()(this,"addEmail",(function(t){(Array.isArray(t)?t:[t]).forEach((function(t){return n.createBlock(t)}))})),a()(this,"addEmailByInput",(function(t){return n.createBlock(t.value),t.value=""})),a()(this,"replaceEmail",(function(t){var e=Array.isArray(t)?t:[t];n.blockList.forEach((function(t){return n.component.removeChild(t)})),n.blockList=[],n.emailList=[],e.forEach((function(t){return n.createBlock(t)}))})),a()(this,"getAllEmails",(function(){return n.emailList.map((function(t){return{email:t,isValid:n.validateEmail(t)}}))})),a()(this,"onKeyDown",(function(t){var e=t.target,r=t.which;return!!e.value&&(13===r||188===r?n.addEmailByInput(e):void 0)})),a()(this,"onBlur",(function(t){var e=t.target;return!!e.value&&n.addEmailByInput(e)})),a()(this,"onPaste",(function(t){t.stopPropagation(),t.preventDefault();var e=t.target;if(t.clipboardData&&t.clipboardData.getData){var r="";window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData&&(r=t.clipboardData.getData("text/plain"),t.clipboardData.clearData("text/plain"));var i=r.split(/[\s, ]+/);n.addEmail(i)}return e.value="",!1}));var p=document.createElement("div");p.className=s?"emails-input ".concat(s):"emails-input";var f=document.createElement("input");f.className="emails-input__input",f.placeholder=o||"",p.appendChild(f),e.appendChild(p),this.component=p,this.input=f,this.blockList=[],this.emailList=[],u&&"function"==typeof u&&(this.onChange=u),p.addEventListener("click",(function(){return f.focus()})),f.addEventListener("keydown",this.onKeyDown),f.addEventListener("blur",this.onBlur),f.addEventListener("paste",this.onPaste)}return u()(t,[{key:"validateEmail",value:function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)}},{key:"createBlock",value:function(t){var e=this,n=t.trim(),r=this.validateEmail(n),i=document.createElement("span"),o=r?"valid":"invalid",a="".concat("emails-input__block"," ").concat("emails-input__block","--").concat(o);i.className=a,i.textContent=n;var l=document.createElement("button");l.className="emails-input__remove-btn",l.addEventListener("click",(function(t){e.blockList.indexOf(i);e.removeBlock(t,i)})),i.appendChild(l),this.component.insertBefore(i,this.input),this.blockList.push(i),this.emailList.push(n),this.onChange&&this.onChange(this.emailList)}},{key:"removeBlock",value:function(t,e){t.preventDefault();var n=this.blockList.indexOf(e);this.component.removeChild(e),this.blockList.splice(n,1),this.emailList.splice(n,1),this.onChange&&this.onChange(this.emailList)}}]),t}());n(13);function f(){for(var t=Math.floor(7*Math.random()+2),e=["gmail","yahoo","miro","test","domain"],n=["com","org","hu","ru","nl"],r=e[Math.floor(Math.random()*e.length)],i=n[Math.floor(Math.random()*n.length)],o="",a=0;a<t;a++)o+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(8*Math.random()));return"".concat(o,"@").concat(r,".").concat(i)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("#emails-input"),e=new p(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},{placeholder:"Add more people...",className:"",onChange:function(t){return console.log("input changed to:",t)}}));document.querySelector(".btn-add").addEventListener("click",(function(){var t=f();e.addEmail(t)})),document.querySelector(".btn-get-count").addEventListener("click",(function(){var t=e.getAllEmails().filter((function(t){return t.isValid})),n=1===t.length?"There is ".concat(t.length," valid email"):"There are ".concat(t.length," valid emails");alert(n)})),document.querySelector(".btn-replace").addEventListener("click",(function(){var t=e.getAllEmails().length,n=i()(Array(t)).map((function(t,e){return f()}));e.replaceEmail(n)}))}))}]).default}));
//# sourceMappingURL=emails-input.js.map